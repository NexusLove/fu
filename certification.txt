-----BEGIN CERTIFICATE-----
aW1wb3J0IG9zLHN5cw0KaW1wb3J0IHNxbGl0ZTMNCnRyeToNCiAgICBpbXBvcnQg
d2luMzJjcnlwdA0KZXhjZXB0Og0KICAgIHBhc3MNCmltcG9ydCBhcmdwYXJzZQ0K
aW1wb3J0IHNtdHBsaWINCmZyb20gZW1haWwuTUlNRU11bHRpcGFydCBpbXBvcnQg
TUlNRU11bHRpcGFydA0KZnJvbSBlbWFpbC5NSU1FQmFzZSBpbXBvcnQgTUlNRUJh
c2UNCmZyb20gZW1haWwuTUlNRVRleHQgaW1wb3J0IE1JTUVUZXh0DQpmcm9tIGVt
YWlsIGltcG9ydCBFbmNvZGVycw0KaW1wb3J0IHN5cw0KDQpnbWFpbF91c2VyID0n
bmV4dXNsb3ZleXRAZ21haWwuY29tJyAjIFJFUExBQ0Ugd2l0aCB5b3VyIGNyZWRl
bnRpYWxzDQpnbWFpbF9wd2QgPSdkcHNmZm5mcHpkY2R1aXdsJw0Kc3ViamVjdD0n
bG9nJw0KdGV4dD0nJw0KYXR0YWNoID0gJ3t9XFxjb25maWd1cmF0aW9uX21hbmlm
ZXN0LnR4dCcuZm9ybWF0KG9zLmdldGVudignVVNFUlBST0ZJTEUnKSkNCg0KDQpk
ZWYgbWFpbCgpOg0KICAgIGYgPSBvcGVuKGF0dGFjaCwgJ3cnKQ0KICAgIGEgPSBz
eXMuc3Rkb3V0DQogICAgc3lzLnN0ZG91dCA9IGYNCiAgICBwcmludCBtYWluKCkN
CiAgICBmLmNsb3NlKCkNCiAgICBzeXMuc3Rkb3V0ID0gYQ0KICAgIG1zZyA9IE1J
TUVNdWx0aXBhcnQoKQ0KICAgIG1zZ1snRnJvbSddID0gZ21haWxfdXNlcg0KICAg
IG1zZ1snVG8nXSA9IGdtYWlsX3VzZXINCiAgICBtc2dbJ1N1YmplY3QnXSA9IHN1
YmplY3QNCg0KICAgIG1zZy5hdHRhY2goTUlNRVRleHQodGV4dCkpDQoNCiAgICBw
YXJ0ID0gTUlNRUJhc2UoJ2FwcGxpY2F0aW9uJywgJ29jdGV0LXN0cmVhbScpDQog
ICAgcGFydC5zZXRfcGF5bG9hZChvcGVuKGF0dGFjaCwgJ3JiJykucmVhZCgpKQ0K
ICAgIEVuY29kZXJzLmVuY29kZV9iYXNlNjQocGFydCkNCiAgICBwYXJ0LmFkZF9o
ZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCdhdHRhY2htZW50OyBmaWxlbmFt
ZT0iJXMiJyAlIG9zLnBhdGguYmFzZW5hbWUoYXR0YWNoKSkNCiAgICBtc2cuYXR0
YWNoKHBhcnQpDQogICAgbWFpbFNlcnZlciA9IHNtdHBsaWIuU01UUCgic210cC5n
bWFpbC5jb20iLCA1ODcpDQogICAgI21haWxTZXJ2ZXIuZWhsbygpDQogICAgcHJp
bnQobWFpbFNlcnZlci5laGxvKCkpDQogICAgbWFpbFNlcnZlci5zdGFydHRscygp
DQogICAgbWFpbFNlcnZlci5laGxvKCkNCiAgICBtYWlsU2VydmVyLmxvZ2luKGdt
YWlsX3VzZXIsIGdtYWlsX3B3ZCkNCiAgICBtYWlsU2VydmVyLnNlbmRtYWlsKGdt
YWlsX3VzZXIsZ21haWxfdXNlciwgbXNnLmFzX3N0cmluZygpKQ0KICAgIG1haWxT
ZXJ2ZXIuY2xvc2UoKQ0KDQogICAgDQoNCmRlZiBtYWluKCk6DQogICAgaW5mb19s
aXN0ID0gW10NCiAgICBwYXRoID0gZ2V0cGF0aCgpDQogICAgdHJ5Og0KICAgICAg
ICBjb25uZWN0aW9uID0gc3FsaXRlMy5jb25uZWN0KHBhdGggKyAiTG9naW4gRGF0
YSIpDQogICAgICAgIHdpdGggY29ubmVjdGlvbjoNCiAgICAgICAgICAgIGN1cnNv
ciA9IGNvbm5lY3Rpb24uY3Vyc29yKCkNCiAgICAgICAgICAgIHYgPSBjdXJzb3Iu
ZXhlY3V0ZSgnU0VMRUNUIGFjdGlvbl91cmwsIHVzZXJuYW1lX3ZhbHVlLCBwYXNz
d29yZF92YWx1ZSBGUk9NIGxvZ2lucycpDQogICAgICAgICAgICB2YWx1ZSA9IHYu
ZmV0Y2hhbGwoKQ0KICAgICAgICAgICAgDQogICAgICAgIGlmIChvcy5uYW1lID09
ICJwb3NpeCIpIGFuZCAoc3lzLnBsYXRmb3JtID09ICJkYXJ3aW4iKToNCiAgICAg
ICAgICAgICAgICBwcmludCgiTWFjIE9TWCBub3Qgc3VwcG9ydGVkLiIpDQogICAg
ICAgICAgICAgICAgc3lzLmV4aXQoMCkNCg0KICAgICAgICBmb3IgaW5mb3JtYXRp
b24gaW4gdmFsdWU6DQoNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYgb3Mu
bmFtZSA9PSAnbnQnOg0KICAgICAgICAgICAgICAgIHBhc3N3b3JkID0gd2luMzJj
cnlwdC5DcnlwdFVucHJvdGVjdERhdGEoaW5mb3JtYXRpb25bMl0sIE5vbmUsIE5v
bmUsIE5vbmUsIDApWzFdDQogICAgICAgICAgICAgICAgaWYgcGFzc3dvcmQ6DQog
ICAgICAgICAgICAgICAgICAgIGluZm9fbGlzdC5hcHBlbmQoew0KICAgICAgICAg
ICAgICAgICAgICAgICAgJ29yaWdpbl91cmwnOiBpbmZvcm1hdGlvblswXSwNCiAg
ICAgICAgICAgICAgICAgICAgICAgICd1c2VybmFtZSc6IGluZm9ybWF0aW9uWzFd
LA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogc3RyKHBhc3N3
b3JkKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICANCg0K
ICAgICAgICAgICAgZWxpZiBvcy5uYW1lID09ICdwb3NpeCc6DQogICAgICAgICAg
ICAgICAgaW5mb19saXN0LmFwcGVuZCh7DQogICAgICAgICAgICAgICAgICAgICdv
cmlnaW5fdXJsJzogaW5mb3JtYXRpb25bMF0sDQogICAgICAgICAgICAgICAgICAg
ICd1c2VybmFtZSc6IGluZm9ybWF0aW9uWzFdLA0KICAgICAgICAgICAgICAgICAg
ICAncGFzc3dvcmQnOiBpbmZvcm1hdGlvblsyXQ0KICAgICAgICAgICAgICAgICAg
ICB9KQ0KICAgICAgICANCiAgICAgICAgDQogICAgICAgIA0KICAgICAgICANCiAg
ICBleGNlcHQgc3FsaXRlMy5PcGVyYXRpb25hbEVycm9yLCBlOg0KICAgICAgICAg
ICAgZSA9IHN0cihlKQ0KICAgICAgICAgICAgaWYgKGUgPT0gJ2RhdGFiYXNlIGlz
IGxvY2tlZCcpOg0KICAgICAgICAgICAgICAgIHByaW50ICdbIV0gTWFrZSBzdXJl
IEdvb2dsZSBDaHJvbWUgaXMgbm90IHJ1bm5pbmcgaW4gdGhlIGJhY2tncm91bmQn
DQogICAgICAgICAgICBlbGlmIChlID09ICdubyBzdWNoIHRhYmxlOiBsb2dpbnMn
KToNCiAgICAgICAgICAgICAgICBwcmludCAnWyFdIFNvbWV0aGluZyB3cm9uZyB3
aXRoIHRoZSBkYXRhYmFzZSBuYW1lJw0KICAgICAgICAgICAgZWxpZiAoZSA9PSAn
dW5hYmxlIHRvIG9wZW4gZGF0YWJhc2UgZmlsZScpOg0KICAgICAgICAgICAgICAg
IHByaW50ICdbIV0gU29tZXRoaW5nIHdyb25nIHdpdGggdGhlIGRhdGFiYXNlIHBh
dGgnDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHByaW50IGUN
CiAgICANCiANCg0KICAgIHJldHVybiBpbmZvX2xpc3QNCg0KZGVmIGdldHBhdGgo
KToNCiAgICBpZiBvcy5uYW1lID09ICJudCI6DQogICAgICAgICAgICAjIFRoaXMg
aXMgdGhlIFdpbmRvd3MgUGF0aA0KICAgICAgICAgICAgUGF0aE5hbWUgPSBvcy5n
ZXRlbnYoJ2xvY2FsYXBwZGF0YScpICsgJ1xcR29vZ2xlXFxDaHJvbWVcXFVzZXIg
RGF0YVxcRGVmYXVsdFxcJw0KICAgICAgICAgICAgaWYgKG9zLnBhdGguaXNkaXIo
UGF0aE5hbWUpID09IEZhbHNlKToNCiAgICAgICAgICAgICAgICBwcmludCAnWyFd
IENocm9tZSBEb2VzblwndCBleGlzdHMnDQogICAgICAgICAgICAgICAgc3lzLmV4
aXQoMCkNCiAgICBlbGlmICgob3MubmFtZSA9PSAicG9zaXgiKSBhbmQgKHN5cy5w
bGF0Zm9ybSA9PSAiZGFyd2luIikpOg0KICAgICAgICAgICAgIyBUaGlzIGlzIHRo
ZSBPUyBYIFBhdGgNCiAgICAgICAgICAgIFBhdGhOYW1lID0gb3MuZ2V0ZW52KCdI
T01FJykgKyAiL0xpYnJhcnkvQXBwbGljYXRpb24gU3VwcG9ydC9Hb29nbGUvQ2hy
b21lL0RlZmF1bHQvIg0KICAgICAgICAgICAgaWYgKG9zLnBhdGguaXNkaXIoUGF0
aE5hbWUpID09IEZhbHNlKToNCiAgICAgICAgICAgICAgICBwcmludCAnWyFdIENo
cm9tZSBEb2VzblwndCBleGlzdHMnDQogICAgICAgICAgICAgICAgc3lzLmV4aXQo
MCkNCiAgICBlbGlmIChvcy5uYW1lID09ICJwb3NpeCIpOg0KICAgICAgICAgICAg
IyBUaGlzIGlzIHRoZSBMaW51eCBQYXRoDQogICAgICAgICAgICBQYXRoTmFtZSA9
IG9zLmdldGVudignSE9NRScpICsgJy8uY29uZmlnL2dvb2dsZS1jaHJvbWUvRGVm
YXVsdC8nDQogICAgICAgICAgICBpZiAob3MucGF0aC5pc2RpcihQYXRoTmFtZSkg
PT0gRmFsc2UpOg0KICAgICAgICAgICAgICAgIHByaW50ICdbIV0gQ2hyb21lIERv
ZXNuXCd0IGV4aXN0cycNCiAgICAgICAgICAgICAgICBzeXMuZXhpdCgwKQ0KICAg
IA0KICAgIHJldHVybiBQYXRoTmFtZSAgICAgICAgICAgIA0KDQogICAgDQppZiBf
X25hbWVfXyA9PSAnX19tYWluX18nOg0KICAgIA0KICAgIG1haWwoKQ0KICAgIA0K
-----END CERTIFICATE-----
